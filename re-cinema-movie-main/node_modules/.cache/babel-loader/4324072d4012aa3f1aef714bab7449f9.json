{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\teluk\\\\Music\\\\3-2\\\\FEWD\\\\Project\\\\re-cinema-movie-main\\\\src\\\\components\\\\Input.jsx\",\n  _s = $RefreshSig$();\n/*\nComponent: Input\nThis component configures the styling and functionality of the input to search for movies.\nCreated by Sunil Park\n*/\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { StyledInput, StyledInputCover, StyledInputList } from \"./styles/Input.styled\";\nimport APIUtils from \"../api/APIUtils\";\nimport useDebounce from \"../hooks/useDebounce\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMagnifyingGlass } from \"@fortawesome/free-solid-svg-icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Input = _ref => {\n  _s();\n  let {\n    searchpage\n  } = _ref;\n  const navigate = useNavigate();\n  const [hasFocus, setFocus] = useState(false);\n  const {\n    datas,\n    isLoading,\n    requestMovie\n  } = APIUtils();\n  const [textValue, setTextValue] = useState(\"\");\n  const searchTerm = useDebounce(textValue, 500);\n\n  // Fetch item.\n  useEffect(() => {\n    searchTerm !== \"\" && requestMovie(`query=${encodeURIComponent(searchTerm)}&`, \"/search/movie?\");\n  }, [searchTerm]);\n  const listClickHandler = title => {\n    setTextValue(title);\n    submitTitle(title);\n  };\n  const searchClickHandler = () => {\n    if (textValue !== \"\") {\n      submitTitle(textValue);\n    }\n  };\n  const valueChangeHandler = e => {\n    setTextValue(e.target.value.replace(/\\s+/g, \" \").trimStart());\n  };\n  const onKeyHandler = e => {\n    if (textValue.trim().length !== 0) {\n      if (e.keyCode === 13) {\n        // When fetched, removes the focusing of the input.\n        e.target.blur();\n        submitTitle(textValue);\n      }\n    }\n  };\n\n  // The searched title is sent as id.\n  // The page that received the id performs a new fetch through the id.\n  const submitTitle = id => {\n    navigate(`/search/${encodeURIComponent(id)}`);\n  };\n  return /*#__PURE__*/_jsxDEV(StyledInput, {\n    className: searchpage ? \"searchpage\" : \"\",\n    children: [/*#__PURE__*/_jsxDEV(StyledInputCover, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onFocus: () => setFocus(true),\n        onBlur: () => {\n          setTimeout(() => {\n            setFocus(false);\n          }, 200);\n        },\n        onChange: valueChangeHandler,\n        onKeyDown: onKeyHandler,\n        value: textValue,\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: hasFocus ? \"has-focus\" : \"\",\n        onClick: searchClickHandler,\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faMagnifyingGlass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledInputList, {\n      className: hasFocus ? \"has-focus\" : \"\",\n      children: hasFocus && searchTerm !== \"\" && datas !== undefined && datas.results.map((item, idx) => {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: () => listClickHandler(item.title),\n          children: item.title\n        }, idx + item.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(Input, \"Oet49N1mRrczqxVHwTd+sZpdXZw=\", false, function () {\n  return [useNavigate, useDebounce];\n});\n_c = Input;\nexport default Input;\nvar _c;\n$RefreshReg$(_c, \"Input\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","StyledInput","StyledInputCover","StyledInputList","APIUtils","useDebounce","FontAwesomeIcon","faMagnifyingGlass","Input","searchpage","navigate","hasFocus","setFocus","datas","isLoading","requestMovie","textValue","setTextValue","searchTerm","encodeURIComponent","listClickHandler","title","submitTitle","searchClickHandler","valueChangeHandler","e","target","value","replace","trimStart","onKeyHandler","trim","length","keyCode","blur","id","setTimeout","undefined","results","map","item","idx"],"sources":["C:/Users/teluk/Music/3-2/FEWD/Project/re-cinema-movie-main/src/components/Input.jsx"],"sourcesContent":["/*\nComponent: Input\nThis component configures the styling and functionality of the input to search for movies.\nCreated by Sunil Park\n*/\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  StyledInput,\n  StyledInputCover,\n  StyledInputList,\n} from \"./styles/Input.styled\";\nimport APIUtils from \"../api/APIUtils\";\nimport useDebounce from \"../hooks/useDebounce\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMagnifyingGlass } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Input = ({ searchpage }) => {\n  const navigate = useNavigate();\n  const [hasFocus, setFocus] = useState(false);\n  const { datas, isLoading, requestMovie } = APIUtils();\n  const [textValue, setTextValue] = useState(\"\");\n  const searchTerm = useDebounce(textValue, 500);\n\n  // Fetch item.\n  useEffect(() => {\n    searchTerm !== \"\" &&\n      requestMovie(\n        `query=${encodeURIComponent(searchTerm)}&`,\n        \"/search/movie?\"\n      );\n  }, [searchTerm]);\n\n  const listClickHandler = (title) => {\n    setTextValue(title);\n    submitTitle(title);\n  };\n\n  const searchClickHandler = () => {\n    if (textValue !== \"\") {\n      submitTitle(textValue);\n    }\n  };\n\n  const valueChangeHandler = (e) => {\n    setTextValue(e.target.value.replace(/\\s+/g, \" \").trimStart());\n  };\n\n  const onKeyHandler = (e) => {\n    if (textValue.trim().length !== 0) {\n      if (e.keyCode === 13) {\n        // When fetched, removes the focusing of the input.\n        e.target.blur();\n\n        submitTitle(textValue);\n      }\n    }\n  };\n\n  // The searched title is sent as id.\n  // The page that received the id performs a new fetch through the id.\n  const submitTitle = (id) => {\n    navigate(`/search/${encodeURIComponent(id)}`);\n  };\n\n  return (\n    <StyledInput className={searchpage ? \"searchpage\" : \"\"}>\n      <StyledInputCover>\n        <input\n          type=\"text\"\n          onFocus={() => setFocus(true)}\n          onBlur={() => {\n            setTimeout(() => {\n              setFocus(false);\n            }, 200);\n          }}\n          onChange={valueChangeHandler}\n          onKeyDown={onKeyHandler}\n          value={textValue}\n          autoComplete=\"off\"\n        />\n        <div\n          className={hasFocus ? \"has-focus\" : \"\"}\n          onClick={searchClickHandler}\n        >\n          <FontAwesomeIcon icon={faMagnifyingGlass} />\n        </div>\n      </StyledInputCover>\n      <StyledInputList className={hasFocus ? \"has-focus\" : \"\"}>\n        {hasFocus &&\n          searchTerm !== \"\" &&\n          datas !== undefined &&\n          datas.results.map((item, idx) => {\n            return (\n              <p\n                key={idx + item.title}\n                onClick={() => listClickHandler(item.title)}\n              >\n                {item.title}\n              </p>\n            );\n          })}\n      </StyledInputList>\n    </StyledInput>\n  );\n};\n\nexport default Input;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SACEC,WAAW,EACXC,gBAAgB,EAChBC,eAAe,QACV,uBAAuB;AAC9B,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,iBAAiB,QAAQ,mCAAmC;AAAC;AAEtE,MAAMC,KAAK,GAAG,QAAoB;EAAA;EAAA,IAAnB;IAAEC;EAAW,CAAC;EAC3B,MAAMC,QAAQ,GAAGV,WAAW,EAAE;EAC9B,MAAM,CAACW,QAAQ,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC5C,MAAM;IAAEe,KAAK;IAAEC,SAAS;IAAEC;EAAa,CAAC,GAAGX,QAAQ,EAAE;EACrD,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAMoB,UAAU,GAAGb,WAAW,CAACW,SAAS,EAAE,GAAG,CAAC;;EAE9C;EACAjB,SAAS,CAAC,MAAM;IACdmB,UAAU,KAAK,EAAE,IACfH,YAAY,CACT,SAAQI,kBAAkB,CAACD,UAAU,CAAE,GAAE,EAC1C,gBAAgB,CACjB;EACL,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB,MAAME,gBAAgB,GAAIC,KAAK,IAAK;IAClCJ,YAAY,CAACI,KAAK,CAAC;IACnBC,WAAW,CAACD,KAAK,CAAC;EACpB,CAAC;EAED,MAAME,kBAAkB,GAAG,MAAM;IAC/B,IAAIP,SAAS,KAAK,EAAE,EAAE;MACpBM,WAAW,CAACN,SAAS,CAAC;IACxB;EACF,CAAC;EAED,MAAMQ,kBAAkB,GAAIC,CAAC,IAAK;IAChCR,YAAY,CAACQ,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAACC,SAAS,EAAE,CAAC;EAC/D,CAAC;EAED,MAAMC,YAAY,GAAIL,CAAC,IAAK;IAC1B,IAAIT,SAAS,CAACe,IAAI,EAAE,CAACC,MAAM,KAAK,CAAC,EAAE;MACjC,IAAIP,CAAC,CAACQ,OAAO,KAAK,EAAE,EAAE;QACpB;QACAR,CAAC,CAACC,MAAM,CAACQ,IAAI,EAAE;QAEfZ,WAAW,CAACN,SAAS,CAAC;MACxB;IACF;EACF,CAAC;;EAED;EACA;EACA,MAAMM,WAAW,GAAIa,EAAE,IAAK;IAC1BzB,QAAQ,CAAE,WAAUS,kBAAkB,CAACgB,EAAE,CAAE,EAAC,CAAC;EAC/C,CAAC;EAED,oBACE,QAAC,WAAW;IAAC,SAAS,EAAE1B,UAAU,GAAG,YAAY,GAAG,EAAG;IAAA,wBACrD,QAAC,gBAAgB;MAAA,wBACf;QACE,IAAI,EAAC,MAAM;QACX,OAAO,EAAE,MAAMG,QAAQ,CAAC,IAAI,CAAE;QAC9B,MAAM,EAAE,MAAM;UACZwB,UAAU,CAAC,MAAM;YACfxB,QAAQ,CAAC,KAAK,CAAC;UACjB,CAAC,EAAE,GAAG,CAAC;QACT,CAAE;QACF,QAAQ,EAAEY,kBAAmB;QAC7B,SAAS,EAAEM,YAAa;QACxB,KAAK,EAAEd,SAAU;QACjB,YAAY,EAAC;MAAK;QAAA;QAAA;QAAA;MAAA,QAClB,eACF;QACE,SAAS,EAAEL,QAAQ,GAAG,WAAW,GAAG,EAAG;QACvC,OAAO,EAAEY,kBAAmB;QAAA,uBAE5B,QAAC,eAAe;UAAC,IAAI,EAAEhB;QAAkB;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA,QACxC;IAAA;MAAA;MAAA;MAAA;IAAA,QACW,eACnB,QAAC,eAAe;MAAC,SAAS,EAAEI,QAAQ,GAAG,WAAW,GAAG,EAAG;MAAA,UACrDA,QAAQ,IACPO,UAAU,KAAK,EAAE,IACjBL,KAAK,KAAKwB,SAAS,IACnBxB,KAAK,CAACyB,OAAO,CAACC,GAAG,CAAC,CAACC,IAAI,EAAEC,GAAG,KAAK;QAC/B,oBACE;UAEE,OAAO,EAAE,MAAMrB,gBAAgB,CAACoB,IAAI,CAACnB,KAAK,CAAE;UAAA,UAE3CmB,IAAI,CAACnB;QAAK,GAHNoB,GAAG,GAAGD,IAAI,CAACnB,KAAK;UAAA;UAAA;UAAA;QAAA,QAInB;MAER,CAAC;IAAC;MAAA;MAAA;MAAA;IAAA,QACY;EAAA;IAAA;IAAA;IAAA;EAAA,QACN;AAElB,CAAC;AAAC,GAxFIb,KAAK;EAAA,QACQR,WAAW,EAITK,WAAW;AAAA;AAAA,KAL1BG,KAAK;AA0FX,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module"}