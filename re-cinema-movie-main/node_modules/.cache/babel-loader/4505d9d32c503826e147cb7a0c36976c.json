{"ast":null,"code":"var _s = $RefreshSig$();\n/*\nUtils: APIUtils\nFetch the movie and pass the result datas and loading.\nCreated by Sunil Park\n*/\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nconst API_KEY = \"api_key=b0a4d245d5b20ec7da2f1eb0a7b47d89\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\nconst APIUtils = () => {\n  _s();\n  // When the URL is passed as props, fetch is started.\n  const [URL, setURL] = useState();\n\n  // All data is stored in data state.\n  const [datas, setDatas] = useState();\n\n  // Set a boolean to display another component during loading time.\n  const [isLoading, setLoading] = useState();\n  useEffect(() => {\n    let cancelToken = axios.CancelToken.source();\n    if (URL) {\n      const fetchItems = async () => {\n        try {\n          await axios.get(URL, {\n            cancelToken: cancelToken.token\n          }).then(res => {\n            setDatas(res.data);\n            setLoading(false);\n          });\n        } catch (err) {\n          throw err;\n        }\n      };\n      fetchItems();\n    }\n    return () => {\n      cancelToken.cancel();\n      setLoading(true);\n    };\n  }, [URL]);\n  const requestMovie = (query, path) => {\n    const requestURL = BASE_URL + path + query + API_KEY;\n    setURL(requestURL);\n  };\n  return {\n    datas,\n    isLoading,\n    requestMovie\n  };\n};\n_s(APIUtils, \"HVT6Jacl7h/uqJB3+0TvFSOCn94=\");\n_c = APIUtils;\nexport default APIUtils;\nvar _c;\n$RefreshReg$(_c, \"APIUtils\");","map":{"version":3,"names":["React","useState","useEffect","axios","API_KEY","BASE_URL","APIUtils","URL","setURL","datas","setDatas","isLoading","setLoading","cancelToken","CancelToken","source","fetchItems","get","token","then","res","data","err","cancel","requestMovie","query","path","requestURL"],"sources":["C:/Users/teluk/Music/3-2/FEWD/Project/re-cinema-movie-main/src/api/APIUtils.jsx"],"sourcesContent":["/*\nUtils: APIUtils\nFetch the movie and pass the result datas and loading.\nCreated by Sunil Park\n*/\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst API_KEY = \"api_key=b0a4d245d5b20ec7da2f1eb0a7b47d89\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\n\nconst APIUtils = () => {\n  // When the URL is passed as props, fetch is started.\n  const [URL, setURL] = useState();\n\n  // All data is stored in data state.\n  const [datas, setDatas] = useState();\n\n  // Set a boolean to display another component during loading time.\n  const [isLoading, setLoading] = useState();\n\n  useEffect(() => {\n    let cancelToken = axios.CancelToken.source();\n    if (URL) {\n      const fetchItems = async () => {\n        try {\n          await axios\n            .get(URL, {\n              cancelToken: cancelToken.token,\n            })\n            .then((res) => {\n              setDatas(res.data);\n              setLoading(false);\n            });\n        } catch (err) {\n          throw err;\n        }\n      };\n      fetchItems();\n    }\n    return () => {\n      cancelToken.cancel();\n      setLoading(true);\n    };\n  }, [URL]);\n\n  const requestMovie = (query, path) => {\n    const requestURL = BASE_URL + path + query + API_KEY;\n    setURL(requestURL);\n  };\n\n  return { datas, isLoading, requestMovie };\n};\n\nexport default APIUtils;\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,0CAA0C;AAC1D,MAAMC,QAAQ,GAAG,8BAA8B;AAE/C,MAAMC,QAAQ,GAAG,MAAM;EAAA;EACrB;EACA,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGP,QAAQ,EAAE;;EAEhC;EACA,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,EAAE;;EAEpC;EACA,MAAM,CAACU,SAAS,EAAEC,UAAU,CAAC,GAAGX,QAAQ,EAAE;EAE1CC,SAAS,CAAC,MAAM;IACd,IAAIW,WAAW,GAAGV,KAAK,CAACW,WAAW,CAACC,MAAM,EAAE;IAC5C,IAAIR,GAAG,EAAE;MACP,MAAMS,UAAU,GAAG,YAAY;QAC7B,IAAI;UACF,MAAMb,KAAK,CACRc,GAAG,CAACV,GAAG,EAAE;YACRM,WAAW,EAAEA,WAAW,CAACK;UAC3B,CAAC,CAAC,CACDC,IAAI,CAAEC,GAAG,IAAK;YACbV,QAAQ,CAACU,GAAG,CAACC,IAAI,CAAC;YAClBT,UAAU,CAAC,KAAK,CAAC;UACnB,CAAC,CAAC;QACN,CAAC,CAAC,OAAOU,GAAG,EAAE;UACZ,MAAMA,GAAG;QACX;MACF,CAAC;MACDN,UAAU,EAAE;IACd;IACA,OAAO,MAAM;MACXH,WAAW,CAACU,MAAM,EAAE;MACpBX,UAAU,CAAC,IAAI,CAAC;IAClB,CAAC;EACH,CAAC,EAAE,CAACL,GAAG,CAAC,CAAC;EAET,MAAMiB,YAAY,GAAG,CAACC,KAAK,EAAEC,IAAI,KAAK;IACpC,MAAMC,UAAU,GAAGtB,QAAQ,GAAGqB,IAAI,GAAGD,KAAK,GAAGrB,OAAO;IACpDI,MAAM,CAACmB,UAAU,CAAC;EACpB,CAAC;EAED,OAAO;IAAElB,KAAK;IAAEE,SAAS;IAAEa;EAAa,CAAC;AAC3C,CAAC;AAAC,GAzCIlB,QAAQ;AAAA,KAARA,QAAQ;AA2Cd,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module"}